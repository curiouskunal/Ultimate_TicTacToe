\documentclass[12pt, titlepage]{article}

\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{hyperref}
\usepackage{fancyhdr}
\usepackage{float}
\usepackage{subcaption}
\usepackage{graphicx}

\pagestyle{fancy}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=red,
    urlcolor=blue
}
\usepackage[round]{natbib}

\newcounter{tnum}
\newcommand{\tthetnum}{T\thetnum}
\newcommand{\tref}[1]{T\ref{#1}}

\title{SE 3XA3: Test Report\\Ultimate Tic Tac Toe}

\author{Team 3,
		\\ Kunal Shah - shahk24
		\\ Pareek Ravi - ravip2
}

\date{\today}

\input{../Comments}

\begin{document}

\lhead{Team 3 - Test Report}
\rhead{Ultimate Tic Tac Toe}

\maketitle

\pagenumbering{roman}
\tableofcontents
\listoftables
\listoffigures

\newpage
\begin{table}[hp]
\caption{\bf Revision History}
\begin{tabularx}{\textwidth}{p{3cm}p{2cm}X}
\toprule {\bf Date} & {\bf Version} & {\bf Notes}\\
\midrule
December 5 & 0.0 & Initial commit\\
December 6 & 0.2 & list of all tests\\

\bottomrule
\end{tabularx}
\end{table}

\newpage

\pagenumbering{arabic}

\section*{Abstract}
This document describes the results of all the testing done for Ultimate Tic Tac Toe.

\section*{List of Test}

This section provides an overview of the tests completed. Tests are summarized in Table \ref{TbTestList}. 

\refstepcounter{tnum}
\begin{table}[hp]
\caption{\textbf{Table of Tests}} \label{TbTestList}
\begin{tabularx}{\textwidth}{p{1cm}X}
\toprule
\textbf{id} & \textbf{Test} \\
\midrule

\tthetnum\refstepcounter{tnum} \label{test1} & Click should set random tile \\
\tthetnum\refstepcounter{tnum} \label{test2} & Win inner board \\
\tthetnum\refstepcounter{tnum} \label{test3} & Draw inner board (tie) \\
\tthetnum\refstepcounter{tnum} \label{test4} & Win the full game\\
\tthetnum\refstepcounter{tnum} \label{test5} & Draw the full game\\
\tthetnum\refstepcounter{tnum} \label{test6} & Play Again\\
\tthetnum\refstepcounter{tnum} \label{test7} & Return to Board\\
\tthetnum\refstepcounter{tnum} \label{test8} & Click on a cell that is already occupied \\
\tthetnum\refstepcounter{tnum} \label{test9} & Users are alternating turns\\

\bottomrule
\end{tabularx}
\end{table}

\section{Functional Requirements Evaluation}
\subsection{User Input}

\begin{enumerate}

\item{in-test-id1\\}
\textbf {Testing if user's input being received}
					
Initial State: It is the start of a new game and the board is empty
					
Input: A click on any random cell of any inner tic tac toe board
					
Expected Output: That cell should have the user's character on it

Actual Output: The cell contains that user's character

Result: The test passed
					
\item{in-test-id2\\}
\textbf{Testing if user click on invalid inner board}
					
Initial State: Opponent has played on a inner board and it is the user's turn

Input: Click on a tile that they are not designated to click based on the
rules of the game
					
Expected Output: The board should not change at all. The game data should not change
and it is still the user's turn

Actual Output: Nothing happens

Result: The test passed

\item{in-test-id3\\}
\textbf{Testing if user's input on cell already clicked}
					
Initial State: Opponent has played on a inner board and it is the user's turn
					
Input: Click on a tile that has already been clicked previously
					
Expected Output: The board should not change at all. The game data should not change
and it is still the user's turn

Actual Output: The cell doesn't change

Result: The test passed

\end{enumerate}

\subsection{Game Logic}

\begin{enumerate}

\item{log-test-id1\\}
\textbf{Test if inner board gets completed}
					
Initial State: Inner board is almost completed by user. It is their turn to
play in the inner board where they will complete it.
					
Input: Clicks on the cell that will complete the inner board
					
Expected Output: The inner board will be marked with the character representing the
user

Actual Output: The inner board is marked with the character representing the player 
who completed the board

Result: The test passed

\item{log-test-id2\\}
\textbf{Test if inner board ends in draw}
					
Initial State: The board is in a state where an inner board only has 1 cell
available to click and it will result in that board being a draw

Input: Click on the only available cell
					
Expected Output: The inner board will be marked with the character '-' meaning it is a
draw

Actual Output: The inner board is marked with '-'

Result: The test passed

\item{log-test-id3\\}
\textbf{Test if next move can be made on any incomplete inner board}
					
Initial State: Game board is partially filled with one inner board completed

Input: Click at a cell corresponding to a completed inner board
					
Expected Output: All incomplete inner boards active

Actual Output: All the incomplete inner boards changed to an active board color

Result: The test passed

\item{log-test-id4\\}
\textbf{Test if user turns are alternating}
					
Initial State: Player with character O or X just made a move

Input: Click at any available cell
					
Expected Output: The character on the other cell is the opposite

Actual Output: The character was the opposite

Result: The test passed

\end{enumerate}
%\newpage
\subsection{Game Logistics}

\begin{enumerate}

\item{logistic-test-id1\\}
\textbf{Test if game launches}
					
Initial State: User is in the file explorer
					
Input: User launches the html file in browser
					
Expected Output: The game launches in all browsers and shows the welcome dropdown

Actual Output: The game launches to the welcome dropdown in the user's preferred browser

Result: The test passed. 

Note: though the game does not work in Firefox, it has no issues in launching

\item{logistic-test-id2\\}
\textbf{Test if user input shows in window}
					
Initial State: User has just opened game
					
Input: User clicks on any cell
					
Expected Output: Cell they clicked on should change appearance

Actual Output: The cell on the game board shows the user's character

Result: The test passed

\end{enumerate}
\section{Nonfunctional Requirements Evaluation}
Nonfunctional Requirements where tested using two methods, manual testing during the 
development of the game, and usability survey after revision 0 demonstration.
\subsection{Usability}
		
\subsection{Performance}

	
\section{Comparison to Existing Implementation}
This project is a reimplementation of the original Ultimate tic tac toe game ~\citep{githubREF}. Prior to starting this project we investigated the existing implementation. There were 3 main elements we wanted to change for our reimplementation of Ultimate Tic Tac Toe which can been seen in Figure~\ref{fig:Comparison}.
\begin{enumerate}
\item Rules explaining how to play the game
\item User interface (colours and ascetic)
\item Ability to repay the game
\end{enumerate}

\begin{figure}[H]
\begin{subfigure}{.5\textwidth}
  \centering
  \includegraphics[width=0.95\linewidth]{../../ReferenceMaterial/SourceGame_screenshot.png}
  \caption{Original Game}
  \label{fig:sub1}
\end{subfigure}
\begin{subfigure}{.5\textwidth}
  \centering
  \includegraphics[width=1\linewidth]{../../ReferenceMaterial/XwinInnerBoard_screenshot.png}
  \caption{Reimplemented Game}
  \label{fig:sub2}
\end{subfigure}
\caption{Implementation Comparison}
\label{fig:Comparison}
\end{figure}

\section{Unit Testing}
\subsection{How to Test}
Unit testing was done using Karma and Jasmine frameworks. There is a folder called test
located in the src directory which contains the JavaScript file. In order to execute the testing framework, 
npm is required and all required packages are in a json file. Once all packages are installed, 
executing 'npm test' will run all the tests that are written in the test.js file.
\subsection{Tests}
The unit testing was done on the game logic which includes testing click functionality and some additional functionality such as the dropdown menus.
\section{Changes Due to Testing}
After performing unit testing on multiple browsers i.e.(Google Chrome, Safari, Firefox, Opera),
it was apparent that the game would not work on Firefox. The surveys also indicated that the game did
not work in Firefox. This was the only browser that was having issues with this. Unfortunately,
the reason for the incompatibility with Firefox is due to a click listener thus it could not be fixed. From
surveys, it was made clear that there was a scaling issue when playing on smaller displays, as such
changes were made to accommodate smaller devices screen sizes. The game board would adjust 
accordingly to the size of the display. 
\section{Automated Testing}
The automated testing was implemented with the Karma framework. This involved forcing Karma
to various game states and verifying if the results matched what was expected. The various 
states were a game ending in a win and ending in a draw.
\section{Trace to Requirements}
		
\section{Trace to Modules}		

\section{Code Coverage Metrics}

\bibliographystyle{plainnat}

\bibliography{TestReport}

\end{document}