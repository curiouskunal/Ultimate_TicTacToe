\documentclass[12pt, titlepage]{article}

\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{hyperref}
\usepackage{fancyhdr}
\usepackage{float}
\usepackage{subcaption}
\usepackage{graphicx}
\usepackage{multicol}

\pagestyle{fancy}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=blue,
    linkcolor=red,
    urlcolor=blue
}
\usepackage[round]{natbib}

% Test Counters
\newcounter{UInum}
\newcommand{\ttheUInum}{in-test-id \theUInum}
\newcommand{\UIref}[1]{in-test-id \ref{#1}}

\newcounter{LOGnum}
\newcommand{\ttheLOGnum}{log-test-id \theLOGnum}
\newcommand{\LOGref}[1]{log-test-id \ref{#1}}

\newcounter{GLnum}
\newcommand{\ttheGLnum}{logistic-test-id \theGLnum}
\newcommand{\GLref}[1]{logistic-test-id \ref{#1}}

\newcounter{USnum}
\newcommand{\ttheUSnum}{survey-ques-id \theUSnum}
\newcommand{\USref}[1]{survey-ques-id \ref{#1}}

\title{SE 3XA3: Test Report\\Ultimate Tic Tac Toe}

\author{Team 3,
		\\ Kunal Shah - shahk24
		\\ Pareek Ravi - ravip2
}

\date{\today}

\input{../Comments}

\begin{document}

\lhead{Team 3 - Test Report}
\rhead{Ultimate Tic Tac Toe}

\maketitle

\pagenumbering{roman}
\tableofcontents
\listoftables
\listoffigures

\newpage
\begin{table}[hp]
\caption{\bf Revision History}
\begin{tabularx}{\textwidth}{p{3cm}p{2cm}X}
\toprule {\bf Date} & {\bf Version} & {\bf Notes}\\
\midrule
December 5 & 0.0 & Initial commit\\
December 6 & 0.1 & list of all tests\\
December 6 & 0.2 & Added figs to comparison section\\
December 7 & 0.3 & Fixed test counter\\
December 7 & 0.4 & Test trace to FR and MG\\
December 7 & 0.5 & Finished comparison section\\

\bottomrule
\end{tabularx}
\end{table}

\newpage

\pagenumbering{arabic}

\section*{Abstract}
This document describes the results of all the testing done for Ultimate Tic Tac Toe.

\section{Functional Requirements Evaluation}
\subsection* {List of Functional Tests}

This section provides an overview of the functional tests completed. Tests are summarized in Table \ref{TbTestList}. 

\begin{table}[H]
\caption{\textbf{Table of Tests}} \label{TbTestList}
\begin{tabularx}{\textwidth}{p{3cm}X}
\toprule
\textbf{ID} & \textbf{Test} \\
\midrule

\UIref{UItest1} & Click should set random tile \\
\UIref{UItest2} & Win inner board \\
\UIref{UItest3} & Draw inner board (tie) \\
\LOGref{LOGtest1} & Win the full game\\
\LOGref{LOGtest2} & Draw the full game\\
\LOGref{LOGtest3} & Play Again\\
\LOGref{LOGtest4}  & Return to Board\\
\GLref{GLtest1} & Click on a cell that is already occupied \\
\GLref{GLtest2} & Users are alternating turns\\

\bottomrule
\end{tabularx}
\end{table}

\subsection{User Input}

\begin{itemize}

\item {\refstepcounter{UInum}\ttheUInum \label{UItest1}\\}
\textbf {Testing if user's input being received}
					
Initial State: It is the start of a new game and the board is empty
					
Input: A click on any random cell of any inner tic tac toe board
					
Expected Output: That cell should have the user's character on it

Actual Output: The cell contains that user's character

Result: The test passed
					
\item {\refstepcounter{UInum}\ttheUInum \label{UItest2}\\}
\textbf{Testing if user click on invalid inner board}
					
Initial State: Opponent has played on a inner board and it is the user's turn

Input: Click on a tile that they are not designated to click based on the
rules of the game
					
Expected Output: The board should not change at all. The game data should not change
and it is still the user's turn

Actual Output: Nothing happens

Result: The test passed

\item {\refstepcounter{UInum}\ttheUInum \label{UItest3}\\}
\textbf{Testing if user's input on cell already clicked}
					
Initial State: Opponent has played on a inner board and it is the user's turn
					
Input: Click on a tile that has already been clicked previously
					
Expected Output: The board should not change at all. The game data should not change
and it is still the user's turn

Actual Output: The cell doesn't change

Result: The test passed

\end{itemize}

\subsection{Game Logic}

\begin{itemize}

\item {\refstepcounter{LOGnum}\ttheLOGnum \label{LOGtest1}\\}
\textbf{Test if inner board gets completed}
					
Initial State: Inner board is almost completed by user. It is their turn to
play in the inner board where they will complete it.
					
Input: Clicks on the cell that will complete the inner board
					
Expected Output: The inner board will be marked with the character representing the
user

Actual Output: The inner board is marked with the character representing the player 
who completed the board

Result: The test passed

\item {\refstepcounter{LOGnum}\ttheLOGnum \label{LOGtest2}\\}
\textbf{Test if inner board ends in draw}
					
Initial State: The board is in a state where an inner board only has 1 cell
available to click and it will result in that board being a draw

Input: Click on the only available cell
					
Expected Output: The inner board will be marked with the character '-' meaning it is a
draw

Actual Output: The inner board is marked with '-'

Result: The test passed

\item {\refstepcounter{LOGnum}\ttheLOGnum \label{LOGtest3}\\}
\textbf{Test if next move can be made on any incomplete inner board}
					
Initial State: Game board is partially filled with one inner board completed

Input: Click at a cell corresponding to a completed inner board
					
Expected Output: All incomplete inner boards active

Actual Output: All the incomplete inner boards changed to an active board color

Result: The test passed

\item {\refstepcounter{LOGnum}\ttheLOGnum \label{LOGtest4}\\}
\textbf{Test if user turns are alternating}
					
Initial State: Player with character O or X just made a move

Input: Click at any available cell
					
Expected Output: The character on the other cell is the opposite

Actual Output: The character was the opposite

Result: The test passed

\end{itemize}
%\newpage
\subsection{Game Logistics}

\begin{itemize}

\item {\refstepcounter{GLnum}\ttheGLnum \label{GLtest1}\\}
\textbf{Test if game launches}
					
Initial State: User is in the file explorer
					
Input: User launches the html file in browser
					
Expected Output: The game launches in all browsers and shows the welcome dropdown

Actual Output: The game launches to the welcome dropdown in the user's preferred browser

Result: The test passed. 

Note: though the game does not work in Firefox, it has no issues in launching

\item {\refstepcounter{GLnum}\ttheGLnum \label{GLtest2}\\}
\textbf{Test if user input shows in window}
					
Initial State: User has just opened game
					
Input: User clicks on any cell
					
Expected Output: Cell they clicked on should change appearance

Actual Output: The cell on the game board shows the user's character

Result: The test passed

\end{itemize}

\section{Nonfunctional Requirements Evaluation}
Nonfunctional Requirements were tested using two methods, manual testing during the 
development of the game, and usability survey~\citep{survey} after revision 0 demonstration. After receiving feedback from beta testers' usability survey, changes where made to the application accordingly. Refer to section~\ref{ChangesAfterTesting} for details.

\subsection* {List of Survey Questions} \label{ListQuestions}

This section provides an overview of the survey questions asked in the usability survey. Questions are summarized in Table \ref{TbQuestionsList}. 

\begin{table}[H]
\caption{\textbf{Table of Questions}} \label{TbQuestionsList}
\begin{tabularx}{\textwidth}{p{3.1cm}X}
\toprule
\textbf{ID} & \textbf{Question} \\
\midrule

\USref{USq1} & The rules were very easy to find \\
\USref{USq2} & The rules are easy to understand \\
\USref{USq3} & The color pallet is visually appealing \\
\USref{USq4} & The response time was satisfying.\\
\USref{USq5} & It is clear which player's turn it is. (X or O)?\\
\USref{USq6} & The game runs smoothly on your browser\\
\USref{USq7} & Were you offended by anything in the game?\\
\USref{USq8} & Did you encounter epileptic symptoms while playing the game?\\
\USref{USq9} & Did anything unexpected appear on the screen while playing?\\
\USref{USq10} & Did you have fun playing this game?\\
\USref{USq11} & Any Additional Comments?\\


\bottomrule
\end{tabularx}
\end{table}

\subsection{Usability}
The following figures show that all of out non functional fit criteria(refer to \href{run:../SRS/SRS.pdf}{SRS}) where met though the usability survey beta test.

\begin{itemize}

\item {\refstepcounter{USnum}\ttheUSnum \label{USq1}\\}
\begin{figure}[H]
\centering
\includegraphics[width=0.9\linewidth]{../../ReferenceMaterial/Survey_Results/Survey_Question_1}
\caption{The rules were very easy to find }
\label{fig1}
\end{figure}

\item {\refstepcounter{USnum}\ttheUSnum \label{USq2}\\}

\begin{figure}[H]
\centering
\includegraphics[width=0.9\linewidth]{../../ReferenceMaterial/Survey_Results/Survey_Question_2.png}
\caption{The rules are easy to understand }
\end{figure}

\item {\refstepcounter{USnum}\ttheUSnum \label{USq3}\\}

\begin{figure}[H]
\centering
\includegraphics[width=0.9\linewidth]{../../ReferenceMaterial/Survey_Results/Survey_Question_3.png}
\caption{The color pallet is visually appealing }
\end{figure}
\newpage
\item {\refstepcounter{USnum}\ttheUSnum \label{USq5}\\}

\begin{figure}[H]
\centering
\includegraphics[width=0.9\linewidth]{../../ReferenceMaterial/Survey_Results/Survey_Question_5}
\caption{It is clear which player?s turn it is. (X or O)? }
\end{figure}

\item {\refstepcounter{USnum}\ttheUSnum \label{USq7}\\}

\begin{figure}[H]
\centering
\includegraphics[width=0.9\linewidth]{../../ReferenceMaterial/Survey_Results/Survey_Question_9}
\caption{Were you offended by anything in the game? }
\end{figure}

\item {\refstepcounter{USnum}\ttheUSnum \label{USq8}\\}

\begin{figure}[H]
\centering
\includegraphics[width=0.9\linewidth]{../../ReferenceMaterial/Survey_Results/Survey_Question_10}
\caption{Did you encounter epileptic symptoms while playing the game? }
\end{figure}

\item {\refstepcounter{USnum}\ttheUSnum \label{USq9}\\}

\begin{figure}[H]
\centering
\includegraphics[width=0.9\linewidth]{../../ReferenceMaterial/Survey_Results/Survey_Question_11}
\caption{Did anything unexpected appear on the screen while playing?}
\end{figure}

\item {\refstepcounter{USnum}\ttheUSnum \label{USq10}\\}

\begin{figure}[H]
\centering
\includegraphics[width=0.9\linewidth]{../../ReferenceMaterial/Survey_Results/Survey_Question_12}
\caption{Did you have fun playing this game? }
\end{figure}

\item {\refstepcounter{USnum}\ttheUSnum \label{USq11}\\}

\begin{figure}[H]
\centering
\includegraphics[width=0.9\linewidth]{../../ReferenceMaterial/Survey_Results/Survey_Question_13}
\caption{Any Additional Comments?}
\end{figure}

\end{itemize}
		
\subsection{Performance}
\begin{itemize}

\item {\refstepcounter{USnum}\ttheUSnum \label{USq4}\\}

\begin{figure}[H]
\centering
\includegraphics[width=0.9\linewidth]{../../ReferenceMaterial/Survey_Results/Survey_Question_4}
\caption{The response time was satisfying. }
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[width=0.9\linewidth]{../../ReferenceMaterial/Survey_Results/Survey_Question_8}
\caption{Model of computer}
\end{figure}
\newpage
\item {\refstepcounter{USnum}\ttheUSnum \label{USq6}\\}

\begin{figure}[H]
\centering
\includegraphics[width=0.9\linewidth]{../../ReferenceMaterial/Survey_Results/Survey_Question_6}
\caption{The game runs smoothly on your browser}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[width=0.9\linewidth]{../../ReferenceMaterial/Survey_Results/Survey_Question_7}
\caption{Browser Used }
\end{figure}

\end{itemize}
\newpage
\section{Comparison to Existing Implementation}
This project is a reimplementation of the original Ultimate tic tac toe game ~\citep{githubREF}. Prior to starting this project we investigated the existing implementation. There were 3 main elements we wanted to change for our reimplementation of Ultimate Tic Tac Toe which can been seen in Figure~\ref{fig:Comparison}.

\begin{enumerate}
\item Rules explaining how to play the game
\item User interface (colours and ascetic)
\item Ability to repay the game
\end{enumerate}
There where 7 tests performed to ensure that core functionality was maintained after the reimplementation of the original source. Please refer to the following tests: 
\begin{multicols}{2}

\begin{enumerate}

\item \UIref{UItest1}
\item \UIref{UItest3}
\item \UIref{UItest3}
\item \LOGref{LOGtest1}
\item \LOGref{LOGtest2}
\item \GLref{GLtest1}
\item \GLref{GLtest2}
\item[] 

\end{enumerate}
\end{multicols}	

\begin{figure}[H]
\begin{subfigure}{.5\textwidth}
  \centering
  \includegraphics[width=0.95\linewidth]{../../ReferenceMaterial/SourceGame_screenshot.png}
  \caption{Original Game}
  \label{fig:sub1}
\end{subfigure}
\begin{subfigure}{.5\textwidth}
  \centering
  \includegraphics[width=1\linewidth]{../../ReferenceMaterial/XwinInnerBoard_screenshot.png}
  \caption{Reimplemented Game}
  \label{fig:sub2}
\end{subfigure}
\caption{Implementation Comparison}
\label{fig:Comparison}
\end{figure}

\section{Unit Testing}
\subsection{How to Test}
Unit testing was done using Karma and Jasmine frameworks. There is a folder called test
located in the src directory which contains the JavaScript file. In order to execute the testing framework, 
npm is required and all required packages are in a json file. Once all packages are installed, 
executing 'npm test' will run all the tests that are written in the test.js file.
\subsection{Tests}
The unit testing was done on the game logic which includes testing click functionality and some additional functionality such as the dropdown menus.
\section{Changes Due to Testing} \label{ChangesAfterTesting}
After performing unit testing on multiple browsers i.e.(Google Chrome, Safari, Firefox, Opera),
it was apparent that the game would not work on Firefox.This was the only browser that was having issues with this. Unfortunately, the reason for the incompatibility with Firefox is due to a click listener thus it could not be fixed. From surveys, it was made clear that there was a scaling issue when playing on smaller displays, as such
changes were made to accommodate smaller devices screen sizes. The game board would adjust 
accordingly to the size of the display. The most common suggestion was to make it clear to the player whose turn it was. Some people were unsure even though it said it at the top. As a result of this, we added a feature to show 
the character that would populate the game board if they were to click on that cell in a light grey color. This 
grey character is based on where the user's mouse is positioned. 
\section{Automated Testing}
The automated testing was implemented with the Karma framework. This involved forcing the game
to various states and verifying if the results matched what was expected. Examples of the various 
states were a game ending in a win and ending in a draw. The automated testing was also done to
make sure the smaller core functionality of the game worked. These include ensuring the players
alternated turns, a player could only click on a cell that had not yet ben populated. 

\section{Trace to Requirements}
This section shows two traceability matrices. These are between the survey questions and the functional (Table~\ref{TbFRTrace}) and non-functional (Table~\ref{TbNFRTrace}) requirements in \href{run:../SRS/SRS.pdf}{SRS} respectively.

\begin{table}[H]
\caption{\textbf{Trace to Functional Requirements}} \label{TbFRTrace}
\begin{tabularx}{\textwidth}{p{3cm}X}
\toprule
\textbf{Test ID} & \textbf{Functional Requirements ID} \\
\midrule

\UIref{UItest1} & FR1 , FR2,  \\
\UIref{UItest2} & FR3 \\
\UIref{UItest3} & FR4 \\
\LOGref{LOGtest1} & FR5\\
\LOGref{LOGtest2} & FR5\\
\LOGref{LOGtest3} & FR1\\
\LOGref{LOGtest4}  & FR1\\
\GLref{GLtest1} & FR2, FR6\\
\GLref{GLtest2} & FR6\\

\bottomrule
\end{tabularx}
\end{table}

\begin{table}[H]
\caption{\textbf{Trace to Non-Functional Requirements}} \label{TbNFRTrace}
\begin{tabularx}{\textwidth}{p{3.1cm}X}
\toprule
\textbf{Test ID} & \textbf{Non-Functional Requirements ID} \\
\midrule

\USref{USq1} & UH3 \\
\USref{USq2} & UH1 \\
\USref{USq3} & LF1, LF2 \\
\USref{USq4} & PR1, PR2 \\
\USref{USq5} & UH3\\
\USref{USq6} & OE1, OE2, PR1, PR2, PR3\\
\USref{USq7} & CU1, CU2\\
\USref{USq8} & HS1\\
\USref{USq9} & LF2 \\

\bottomrule
\end{tabularx}
\end{table}
		
\section{Trace to Modules}
This section shows a traceability matrix between the functional tests and modules in \href{run:../Design/MG/MG.pdf}{Module Guide}.

\begin{table}[H]
\caption{\textbf{Trace to Modules}} \label{TbMTrace}
\begin{tabularx}{\textwidth}{p{3.1cm}X}
\toprule
\textbf{Test ID} & \textbf{Non-Functional Requirements ID} \\
\midrule

\UIref{UItest1} & M1, M2, M3  \\
\UIref{UItest2} & M4, M5, M6 \\
\UIref{UItest3} & M6 \\
\LOGref{LOGtest1} & M6\\
\LOGref{LOGtest2} & M6\\
\LOGref{LOGtest3} & M1, M2, M3 ,M4, M6\\
\LOGref{LOGtest4}  & M1\\
\GLref{GLtest1} & M2, M4\\
\GLref{GLtest2} & M4\\

\bottomrule
\end{tabularx}
\end{table}		

\section{Code Coverage Metrics}
In the Test Plan document, we strove to achieve 80\% coverage with our automated, unit testing and manual tests . While not every unit test possible was executed, most were, as all of our functional and non functional metrics where validated as well as edge cases. Due to the nature of Ultimate Tic Tac Toe it was easy to validate functionality though a usability survey (refer to section ~\ref{ListQuestions}) where beta testers confirmed real world performance and user experience. Because the game was so heavily tested in real world and automated tests we feel that our 80\% coverage metric was reached.

\bibliographystyle{plainnat}

\bibliography{TestReport}

\end{document}